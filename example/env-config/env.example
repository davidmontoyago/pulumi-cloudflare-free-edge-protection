# Cloudflare Edge Protection Configuration
# Copy this file to .env and fill in your values

# Required: Cloudflare API Token (requires Zone:Edit permissions)
# Get from: https://dash.cloudflare.com/profile/api-tokens
CLOUDFLARE_API_TOKEN=your-cloudflare-api-token-here

# Required: Cloudflare Account ID
CLOUDFLARE_ACCOUNT_ID=your-cloudflare-account-id-here

# Required: Your application domain (e.g., "myapp.mydomain.dev")
BACKEND_URL=myapp.mydomain.dev

# Required: Backend service canonical name URL
# Can be a URL to an instance OR to a cloud provider servers for DNS integration
BACKEND_UPSTREAM_URL=ghs.googlehosted.com

# Optional: Security level (off, essentially_off, low, medium, high, under_attack)
SECURITY_LEVEL=medium

# Optional: Browser cache TTL in seconds (default: 14400 = 4 hours)
BROWSER_CACHE_TTL=14400

# Optional: Edge cache TTL in seconds (default: 2419200 = 28 days)
EDGE_CACHE_TTL_SECONDS=2419200

# Optional: Rate limit threshold - number of requests per 10s periods (default: 60)
RATE_LIMIT_THRESHOLD=60

# Optional: Rate limit mode (managed_challenge, block, challenge, js_challenge)
RATE_LIMIT_MODE=block

# Optional: TLS encryption mode (off, flexible, full, strict)
TLS_ENCRYPTION_MODE=full

# Optional: Minimum TLS version (1.0, 1.1, 1.2, 1.3)
MIN_TLS_VERSION=1.2

# Optional: Always use HTTPS (true, false)
# Must be disabled for GCP Cloud Run instances
ALWAYS_USE_HTTPS=true

# Optional: Enable TLS 1.3 (true, false)
TLS_13_ENABLED=true

# Optional: Enable browser check for bot protection (true, false)
BROWSER_CHECK_ENABLED=true
